# 리액트의 상태관리

리액트에서의 상태(state)는 컴포넌트안에서 동적으로 바뀌는 동적 데이터이다. 컴포넌트 안에서 바뀌는 동적인 데이터를 잘 관리하는 것이 프로젝트의 성능과 유지보수 관점에서 제일 중요하게 고민되어야 하는 부분이다. 상태를 관리하기 위한 많은 라이브러리가 있지만, 여기선 리덕스를 정리해 보는걸로.

## 리덕스는 전역상태 라이브러리

리덕스는 컴포넌트의 상태를 스토어에 저장함으로 리액트 바깥에서 전역으로 관리를 하는 라이브러리 이다. 컴포넌트안에서 여러 요청들을 전역적으로 관리함으로, 다른 컴포넌트에서도 상태를 lifting 할 필요가 없다는 장점이 있다.

리덕스는 안정적인 상태 유지를 위해서 강한 제약을 요구한다. 어플리케이션의 상태 / 무엇이 일어나는 지 / 어떻게 바꾸는 지를 구분 해서 개발 해야한다. 무엇이 일어나는지는 dispatch를 이용해서 알리며 어떻게 바꿀지는 reducer를 이용해서 state를 조작한다. Flux 패턴을 이용해서 단방향 흐름으로 안정적인 상태 운용이 가능하지만 원하는 상태와 기능추가를 위해서는 dispatch를 위한 action, 상태 변화를 위한reducer, 컴포넌트에서 state를 가져다 쓰는 부분 모두 손봐야 하기 때문에 너무 장황하다. 애플리케이션의 사이즈가 커질수록 이런 상태관리에 대한 코드관리가 복잡해지고, 확장성이 떨어진다.

컴포넌트안에서 서버와 주고받은 데이터를 저장할 경우, 특정 그 시점의 데이터로 상태가 캡쳐된다. 이 캡쳐된 상태를 해결하기 위해, react hookAPI를 통해 메모리 캐싱을 사용할 수 있지만, 캐싱된 데이터가 최신인지는 좀 더 고민해야 한다.

## 그래서 리덕스를 왜 써야 할까

아직까지도 서드파티 라이브러리로 리덕스의 인기는 여전하고, 인기만큼 강한 생태계를 구축하고 있다. 미들웨어도 많이 존재하고 있다. SSR까지 지원되고 있다고 한다. Flux 패턴을 이용한 선언적이고 안정적인 상태 운용을 한다면 이용해도 좋다. Redux도 기존의 장황한 확장성을 고치기 위해 Redux Tools라는 새로운 기능을 만들어서 한번에 무엇을 어떻게 할지 정의할수 있게 했다. 이를 통해 좀더 간결하게 상태 관리 할 수 있도록 개선 되었다.
